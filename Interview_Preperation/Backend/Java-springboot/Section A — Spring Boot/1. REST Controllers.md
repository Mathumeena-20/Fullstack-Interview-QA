# ⭐ 1. Difference between @Controller and @RestController

| Annotation          | Purpose                                 | Returns                       |
| ------------------- | --------------------------------------- | ----------------------------- |
| **@Controller**     | Used for MVC web pages (Thymeleaf, JSP) | Returns **view name** (HTML)  |
| **@RestController** | Used for REST APIs                      | Returns **JSON/XML directly** |

**@RestController = @Controller + @ResponseBody**

### Example

```java
@Controller
public class WebController {
    @GetMapping("/home")
    public String home() {
        return "home";  // returns HTML page
    }
}

@RestController
public class ApiController {
    @GetMapping("/hello")
    public String hello() {
        return "Hello World";  // JSON response
    }
}
```

---

# ⭐ 2. What does @RequestBody do?

It **converts JSON → Java object** automatically using **Jackson**.

### Example

```java
@PostMapping("/user")
public String createUser(@RequestBody User user) {
    return "Received: " + user.getName();
}
```

Input JSON:

```json
{
  "name": "John",
  "age": 25
}
```

Spring converts this into a `User` object.

---

# ⭐ 3. Difference between @GetMapping, @PostMapping, @PutMapping, @DeleteMapping

| Annotation         | HTTP Method | Use Case             |
| ------------------ | ----------- | -------------------- |
| **@GetMapping**    | GET         | Read / fetch data    |
| **@PostMapping**   | POST        | Create new data      |
| **@PutMapping**    | PUT         | Update full resource |
| **@PatchMapping**  | PATCH       | Partially update     |
| **@DeleteMapping** | DELETE      | Remove resource      |

Example:

```java
@GetMapping("/users")
@PostMapping("/users")
@PutMapping("/users/{id}")
@DeleteMapping("/users/{id}")
```

---

# ⭐ 4. How do you handle path variables and request parameters?

### Path Variable – part of URL

```
GET /users/10
```

```java
@GetMapping("/users/{id}")
public User getUser(@PathVariable int id) { ... }
```

### Request Param – query parameter

```
GET /users?page=2&size=10
```

```java
@GetMapping("/users")
public List<User> getUsers(@RequestParam int page,
                           @RequestParam int size) { ... }
```

---

# ⭐ 5. Difference between @PathVariable and @RequestParam

| @PathVariable                       | @RequestParam                  |
| ----------------------------------- | ------------------------------ |
| Extracts data from **URL path**     | Extracts from **query string** |
| Required for identifying a resource | Used for filters, pagination   |
| `/users/10`                         | `/users?page=1`                |

---

# ⭐ 6. How does Spring Boot convert JSON to Java objects?

Spring Boot uses **Jackson** internally.

Pipeline:

```
Incoming JSON → HttpMessageConverter → Java Object
```

For @RequestBody:

```java
@PostMapping("/emp")
public Employee save(@RequestBody Employee emp) { ... }
```

### For response:

Spring converts the return value into JSON automatically.

---

# ⭐ 7. How do you return different HTTP status codes?

Using **ResponseEntity**:

### Example:

```java
@GetMapping("/user/{id}")
public ResponseEntity<User> getUser(@PathVariable int id) {
    User user = service.find(id);
    if (user == null) {
        return ResponseEntity.status(HttpStatus.NOT_FOUND).build();
    }
    return ResponseEntity.ok(user); // 200 OK
}
```

Common status codes:

* 200 OK
* 201 CREATED
* 204 NO CONTENT
* 400 BAD REQUEST
* 404 NOT FOUND
* 500 INTERNAL SERVER ERROR

---

# ⭐ 8. What is ResponseEntity and why is it used?

`ResponseEntity<T>` allows returning:

✔ Body
✔ Status code
✔ Headers

Example:

```java
return ResponseEntity
        .status(HttpStatus.CREATED)
        .header("X-App", "MyService")
        .body(newUser);
```

Used for:

* Custom responses
* Sending headers
* Returning errors in standard format

---

# ⭐ 9. Difference between REST and SOAP

| Feature     | REST                        | SOAP                    |
| ----------- | --------------------------- | ----------------------- |
| Format      | JSON, XML, Text             | XML only                |
| Lightweight | Yes                         | Heavy                   |
| Speed       | Fast                        | Slower                  |
| Transport   | HTTP (mostly)               | HTTP, TCP, JMS          |
| Security    | Basic, OAuth                | WS-Security             |
| Style       | Resource-based              | Protocol-based          |
| Use cases   | Web services, microservices | Banking, legacy systems |

---

# ⭐ 10. How do you version REST APIs?

Common strategies:

### **1. URL Versioning (most common)**

```
GET /api/v1/users
GET /api/v2/users
```

### **2. Header Versioning**

```
Accept: application/vnd.company.v1+json
```

### **3. Query Parameter**

```
GET /users?version=1
```

### Example:

```java
@RestController
@RequestMapping("/api/v1/users")
public class UserV1Controller { ... }

@RestController
@RequestMapping("/api/v2/users")
public class UserV2Controller { ... }
```

---

# ⭐ Summary Table (Interview Quick Notes)

| Concept         | Short Explanation                     |
| --------------- | ------------------------------------- |
| @RestController | Returns JSON by default               |
| @Controller     | Returns views (HTML/JSP)              |
| @RequestBody    | JSON → Java using Jackson             |
| HTTP Mappings   | GET/POST/PUT/DELETE                   |
| @PathVariable   | URL path values                       |
| @RequestParam   | Query parameters                      |
| JSON conversion | Done by HttpMessageConverter          |
| ResponseEntity  | Custom response with status & headers |
| REST vs SOAP    | REST = simple JSON, SOAP = XML-heavy  |
| API versioning  | /v1, headers, params                  |

---

✔ Spring Boot Interview Cheat Sheet (REST + DI + JPA)
