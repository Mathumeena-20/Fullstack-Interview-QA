# **1. What is serialization in Java?**

Serialization is the process of **converting a Java object into a byte stream** so it can be:

‚úî Saved to disk
‚úî Sent over network
‚úî Stored in cache
‚úî Transferred between JVMs

```java
ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream("obj.ser"));
out.writeObject(object);
```

---

# **2. Difference between Serialization and Deserialization**

| Serialization                    | Deserialization                |
| -------------------------------- | ------------------------------ |
| Java object ‚Üí byte stream        | Byte stream ‚Üí Java object      |
| Performed using `writeObject()`  | Performed using `readObject()` |
| Used to store or transfer object | Used to reconstruct object     |

Example:

```java
out.writeObject(obj);     // serialization
Object obj = in.readObject(); // deserialization
```

---

# **3. Why is serialization needed?**

‚úî Persist objects to files
‚úî Send objects over network (RMI, sockets)
‚úî Store objects in cache (Redis, Memcached)
‚úî Session replication in servers
‚úî Deep cloning objects
‚úî Messaging systems (Kafka, JMS)

---

# **4. What is Serializable interface?**

`Serializable` is a **marker interface** (no methods) that tells JVM:

üëâ ‚ÄúThis object can be converted into byte stream.‚Äù

Example:

```java
public class User implements Serializable {
    private String name;
    private int age;
}
```

---

# **5. Difference between Serializable and Externalizable**

| Serializable              | Externalizable                                 |
| ------------------------- | ---------------------------------------------- |
| Marker interface          | Has 2 methods: readExternal(), writeExternal() |
| Automatic serialization   | Fully manual control                           |
| Easy to use               | More work but more control                     |
| Uses reflection           | Better performance                             |
| serialVersionUID optional | Must have public no-arg constructor            |

Example Externalizable:

```java
public class User implements Externalizable {
    private String name;
    private int age;

    public void writeExternal(ObjectOutput out) throws IOException {
        out.writeUTF(name);
        out.writeInt(age);
    }

    public void readExternal(ObjectInput in) throws IOException {
        name = in.readUTF();
        age = in.readInt();
    }
}
```

---

# **6. What is serialVersionUID?**

A unique ID used by JVM to verify **compatibility** between serialized object and class definition.

```java
private static final long serialVersionUID = 1L;
```

---

# **7. What happens if serialVersionUID is not defined?**

JVM **generates it automatically**, but:

‚ùå If class structure changes ‚Üí
‚ùå mismatch occurs ‚Üí
‚ùå `InvalidClassException` thrown

Therefore, **always define serialVersionUID**.

---

# **8. Role of transient keyword in serialization**

`transient` prevents a field from being serialized.

Example:

```java
private transient String password;
```

Used for:
‚úî Passwords
‚úî Sensitive data
‚úî Cache-only fields
‚úî Derived data fields

---

# **9. Can static variables be serialized?**

‚ùå No.

Because **static fields belong to class**, not object.

Example:

```java
static int count; // NOT serialized
```

---

# **10. How to customize serialization using writeObject() and readObject()?**

Override these private methods:

```java
private void writeObject(ObjectOutputStream out) throws IOException {
    out.defaultWriteObject();  // serialize default fields
    out.writeInt(age + 10);    // custom logic
}

private void readObject(ObjectInputStream in) throws Exception {
    in.defaultReadObject();
    this.age = in.readInt() - 10; // reverse logic
}
```

Use when:

* Encrypting data
* Custom formats
* Validating during deserialization

---

# **11. What is deep vs shallow copy in serialization?**

### ‚úî Shallow Copy

Copies references only.

### ‚úî Deep Copy

Copies entire object graph ‚Üí completely separate objects.

Serialization performs **deep copy** automatically.

Example:

```java
Object deepCopy(Object obj) {
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    ObjectOutputStream out = new ObjectOutputStream(bos);
    out.writeObject(obj);

    ObjectInputStream in = new ObjectInputStream(
        new ByteArrayInputStream(bos.toByteArray()));
    return in.readObject();
}
```

---

# **12. What is object graph?**

An **object graph** is a group of objects referenced internally.

Serialization automatically serializes **entire graph**.

Example:

```java
class A implements Serializable { B b; }
class B implements Serializable { C c; }
class C implements Serializable { }
```

Serializing A ‚Üí B and C also serialized.

---

# **13. How do you prevent sensitive data from being serialized?**

‚úî Use `transient`
‚úî Use custom writeObject()/readObject()
‚úî Encrypt values before serialization
‚úî Use Externalizable for full control
‚úî Use DTOs that exclude sensitive fields

Example:

```java
private transient String creditCardNumber;
```

---

# **14. What are common serialization issues?**

1. **InvalidClassException** ‚Äì serialVersionUID mismatch
2. **NotSerializableException** ‚Äì nested class not implementing Serializable
3. **Performance issues** ‚Äì serialization is CPU heavy
4. **Security issues** ‚Äì deserialization attacks
5. **Large object graphs** ‚Äì more memory needed
6. **Serialization of static/transient fields ignored**
7. **Versioning problems** when class evolves

---

# **15. Real-world example where serialization was used**

### Example: **Session replication in distributed servers**

In a microservices/swarm environment:

* User session must be shared across nodes
* Sessions stored in Redis require serialization

Custom serializable user session:

```java
public class UserSession implements Serializable {
    private static final long serialVersionUID = 1L;

    private String userId;
    private long loginTime;
    private transient String jwtToken; // don't store token
}
```

Stored and retrieved via Redis byte arrays.

### Other real use cases:

‚úî Caching (Ehcache, Redis)
‚úî Messaging (Kafka, JMS)
‚úî Distributed computing (Hazelcast, Ignite)
‚úî Deep cloning of objects
‚úî Saving object state to disk

---

# ‚≠ê Full Example: Serialization + Transient + serialVersionUID

```java
class Employee implements Serializable {
    private static final long serialVersionUID = 42L;

    private String name;
    private int salary;
    private transient String password; // excluded

    public Employee(String name, int salary, String password) {
        this.name = name;
        this.salary = salary;
        this.password = password;
    }
}
```

### Serialize:

```java
ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream("emp.ser"));
out.writeObject(e);
```

### Deserialize:

```java
ObjectInputStream in = new ObjectInputStream(new FileInputStream("emp.ser"));
Employee e = (Employee) in.readObject();
```

`password` will be **null** after deserialization.

---

# ‚≠ê Final Interview Summary

| Topic                   | Key Answer                                          |
| ----------------------- | --------------------------------------------------- |
| Serialization           | Object ‚Üí byte stream                                |
| Deserialization         | Byte stream ‚Üí object                                |
| Why needed              | Persistence, network transfer, caching              |
| Serializable            | Marker interface                                    |
| Externalizable          | Full manual serialization                           |
| serialVersionUID        | Version control for classes                         |
| transient               | Prevents serialization                              |
| static fields           | Not serialized                                      |
| customize serialization | writeObject/readObject                              |
| deep vs shallow copy    | Serialization = deep copy                           |
| object graph            | Entire connected object structure                   |
| prevent sensitive data  | transient + custom serialization                    |
| serialization issues    | UID mismatch, performance, NotSerializableException |
| real-world use          | Session replication, caching, distributed apps      |

---


‚úî Serialization performance optimization tips
‚úî A complete real-time architecture using serialization (Redis/Kafka)
