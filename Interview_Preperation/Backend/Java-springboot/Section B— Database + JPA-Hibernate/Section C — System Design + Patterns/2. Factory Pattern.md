# ‚úÖ **1. What is the Factory Design Pattern?**

**Factory Pattern** is a creational design pattern used to **create objects without exposing the creation logic** to the client.

Instead of:

```java
Car car = new Car();
```

We call:

```java
Car car = CarFactory.create("SUV");
```

‚úî Decouples object creation from usage
‚úî Adds flexibility and maintainability

---

# ‚úÖ **2. Difference between Factory and Abstract Factory**

| Feature    | Factory Method                 | Abstract Factory                         |
| ---------- | ------------------------------ | ---------------------------------------- |
| Purpose    | Creates **one product type**   | Creates **families of related products** |
| Methods    | Usually **one factory method** | Multiple factory methods                 |
| Complexity | Simple                         | More complex                             |
| Example    | ShapeFactory ‚Üí Shape           | GUIFactory ‚Üí Button, Checkbox            |

---

# Example:

### **Factory Method**

```java
ShapeFactory.create("circle");
```

Creates 1 product: Shape.

### **Abstract Factory**

```java
GUIFactory factory = new WindowsFactory();
factory.createButton();
factory.createCheckbox();
```

Creates **multiple related products**.

---

# ‚úÖ **3. What problem does the Factory pattern solve?**

Factory solves:

### ‚úî Problem 1 ‚Äî Avoiding tight coupling

Client doesn‚Äôt use `new` keyword ‚Üí creation logic is hidden.

### ‚úî Problem 2 ‚Äî Centralizing object creation

You can modify object creation **in one place**.

### ‚úî Problem 3 ‚Äî Conditional creation

Different objects based on input (e.g., `if-else` or subclass logic).

### ‚úî Problem 4 ‚Äî Simplifies maintenance

Adding a new product requires modifying factory only.

---

# üü¢ Interview answer:

> ‚ÄúFactory solves the problem of complex object creation and decouples creation logic from business logic.‚Äù

---

# ‚úÖ **4. How do you implement the Factory pattern in Java?**

Let‚Äôs build `ShapeFactory`.

### **Step 1: Product Interface**

```java
public interface Shape {
    void draw();
}
```

### **Step 2: Concrete Products**

```java
public class Circle implements Shape {
    public void draw() { System.out.println("Circle"); }
}

public class Square implements Shape {
    public void draw() { System.out.println("Square"); }
}
```

### **Step 3: Factory Class**

```java
public class ShapeFactory {

    public static Shape getShape(String type) {

        switch (type.toLowerCase()) {
            case "circle": return new Circle();
            case "square": return new Square();
            default: throw new IllegalArgumentException("Unknown type");
        }
    }
}
```

### **Step 4: Use factory**

```java
Shape shape = ShapeFactory.getShape("circle");
shape.draw();
```

---

# ‚úÖ **5. Difference between Factory and Builder pattern**

| Feature    | Factory          | Builder                           |
| ---------- | ---------------- | --------------------------------- |
| Purpose    | Create object    | Build complex object step-by-step |
| Focus      | Object selection | Object construction               |
| Attributes | Few parameters   | Many optional parameters          |
| Example    | ShapeFactory     | UserBuilder, PizzaBuilder         |

### Example:

* Factory ‚Üí pick which class to instantiate
* Builder ‚Üí construct object with many fields

---

# üü¢ Interview answer:

> ‚ÄúFactory decides *which* object to create; Builder decides *how* to create an object with many combinations.‚Äù

---

# ‚úÖ **6. When would you use Factory pattern in a real project?**

### Real-world usage:

‚úî When object creation is complex
‚úî When object creation depends on input/config
‚úî When you want loose coupling
‚úî When you want to support new products easily
‚úî When you need multiple strategies

### Real project scenario (strong answer):

> ‚ÄúWe used Factory Pattern for selecting different payment gateways (Stripe, PayPal, Razorpay) based on user input. The client code requested:
> `PaymentGateway gateway = PaymentFactory.getGateway(type);`
> and the factory decided which class to instantiate.‚Äù

---

# ‚úÖ **7. Example of Factory used in Spring Framework**

Spring uses factories everywhere.

### **‚úî BeanFactory (core of Spring DI)**

```java
BeanFactory factory = new XmlBeanFactory(new FileSystemResource("beans.xml"));
MyService s = factory.getBean(MyService.class);
```

The user never uses `new` keyword.

---

### **‚úî FactoryBean<T>**

```java
public class ConnectionFactoryBean implements FactoryBean<Connection> {
    public Connection getObject() {
        return new Connection();
    }
}
```

Spring automatically handles object creation.

---

# üü¢ Interview answer:

> ‚ÄúSpring‚Äôs BeanFactory and FactoryBean are real-life implementations of Factory pattern.‚Äù

---

# ‚úÖ **8. How Factory improves scalability?**

Factory isolates all creation logic ‚Üí so adding a new product does NOT affect client code.

‚úî Add new class ‚Üí Just update factory or register it
‚úî No client code changes
‚úî No compile-time dependency on concrete classes
‚úî Supports Open/Closed Principle (OCP)

---

### Example:

To add a triangle:

```java
case "triangle": return new Triangle();
```

Client code doesn't change:

```java
Shape s = ShapeFactory.getShape("triangle");
```

---

# üü¢ Interview answer:

> ‚ÄúFactory improves scalability by letting us add new product types without changing client code, following OCP.‚Äù

---

# ‚úÖ **9. UML design of Factory pattern**

```
          +------------------+
          |     Shape        |  <---- Interface
          +------------------+
          | draw()           |
          +------------------+
                 ^
                 |
  ----------------------------------
  |                                |
+--------+                  +-------------+
| Circle |                  |   Square    |
+--------+                  +-------------+
| draw() |                  | draw()      |
+--------+                  +-------------+

                 ^
                 |
        +------------------+
        |   ShapeFactory   |
        +------------------+
        | getShape(type)   |
        +------------------+
```

---

# ‚úÖ **10. How do you test code that uses Factory pattern?**

### ‚úî 1. Mock or stub the factory

Inject the factory or use dependency injection.

Example using Mockito:

```java
@Mock
private ShapeFactory factory;

when(factory.getShape("circle")).thenReturn(new Circle());
```

---

### ‚úî 2. Test factory independently

Test:

```java
Shape s = ShapeFactory.getShape("circle");
assertTrue(s instanceof Circle);
```

---

### ‚úî 3. Use interface return types to mock behavior

If your service class uses factory:

```java
Shape shape = factory.getShape("circle");
shape.draw();
```

You can mock:

```java
Shape mockShape = mock(Shape.class);
when(factory.getShape("circle")).thenReturn(mockShape);
```

---

### ‚úî 4. Use Dependency Injection instead of static factory

Static factories are hard to mock:
Prefer:

```java
class Service {
   private ShapeFactory factory;
}
```

Instead of:

```java
Shape s = ShapeFactory.getShape("circle"); // Hard to mock
```

---

# üéØ **Final Summary (Cheatsheet)**

| Topic                       | Short Answer                                    |
| --------------------------- | ----------------------------------------------- |
| Factory pattern             | Creates objects without exposing creation logic |
| Factory vs Abstract Factory | One product vs product families                 |
| Problem solved              | Decouples creation from usage                   |
| Implementation              | Interface + concrete + factory                  |
| Factory vs Builder          | Select vs build complex object                  |
| When use                    | Runtime selection, loose coupling               |
| Spring example              | BeanFactory, FactoryBean                        |
| Scalability                 | Easy to add new types                           |
| UML                         | Factory ‚Üí Products                              |
| Testing                     | Mock factory or test separately                 |

---

