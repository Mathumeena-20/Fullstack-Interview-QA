## 🧩 **1. Find all employees whose salary > 50,000 and department = “IT”**

### ✅ Query:

```js
db.employees.find({ department: "IT", salary: { $gt: 50000 } })
```

### 💬 Explanation:

* `find()` → retrieves documents.
* `{ department: "IT" }` → matches department field.
* `{ salary: { $gt: 50000 } }` → `$gt` means “greater than”.

### 🧠 Example Data:

```js
[
  { name: "John", department: "IT", salary: 60000 },
  { name: "Alice", department: "HR", salary: 40000 },
  { name: "Bob", department: "IT", salary: 45000 }
]
```

### 📤 Output:

```js
{ name: "John", department: "IT", salary: 60000 }
```

✅ **Used for:** Filtering employees based on multiple conditions (like SQL `WHERE` clause).

---

## 📈 **2. Increment a product’s stock count by 5**

### ✅ Query:

```js
db.products.updateOne({ _id: 101 }, { $inc: { stock: 5 } })
```

### 💬 Explanation:

* `updateOne()` → modifies a single matching document.
* `{ _id: 101 }` → finds the product.
* `$inc` → increases a numeric field by a specified amount.

### 🧠 Example Data:

```js
{ _id: 101, name: "Laptop", stock: 20 }
```

### 📤 After Update:

```js
{ _id: 101, name: "Laptop", stock: 25 }
```

✅ **Used for:** Inventory management, counters, ratings, etc.

---

## 💰 **3. Get total sales amount grouped by each month**

### ✅ Query:

```js
db.sales.aggregate([
  { $group: { _id: { $month: "$date" }, totalSales: { $sum: "$amount" } } },
  { $sort: { "_id": 1 } }
])
```

### 💬 Explanation:

* `aggregate()` → runs data through multiple stages.
* `$group` → groups documents by month (from the `date` field).
* `$month` → extracts month number from date.
* `$sum` → calculates total sales amount per group.
* `$sort` → sorts by month ascending.

### 🧠 Example Data:

```js
[
  { date: ISODate("2025-01-10"), amount: 200 },
  { date: ISODate("2025-01-15"), amount: 300 },
  { date: ISODate("2025-02-02"), amount: 400 }
]
```

### 📤 Output:

```js
[
  { _id: 1, totalSales: 500 },
  { _id: 2, totalSales: 400 }
]
```

✅ (Month 1 = January, Month 2 = February)

---

## 🧠 **4. Find documents where “skills” array contains both “Python” and “MongoDB”**

### ✅ Query:

```js
db.users.find({ skills: { $all: ["Python", "MongoDB"] } })
```

### 💬 Explanation:

* `$all` → matches arrays containing *all specified elements*, regardless of order.

### 🧠 Example Data:

```js
[
  { name: "Alice", skills: ["Python", "MongoDB", "React"] },
  { name: "Bob", skills: ["Python", "Django"] },
  { name: "Charlie", skills: ["MongoDB", "C++"] }
]
```

### 📤 Output:

```js
{ name: "Alice", skills: ["Python", "MongoDB", "React"] }
```

✅ **Used for:** Finding multi-skilled users, tags, or roles.

---

## 🔗 **5. Perform a lookup between orders and customers (Join Operation)**

### ✅ Query:

```js
db.orders.aggregate([
  {
    $lookup: {
      from: "customers",
      localField: "customer_id",
      foreignField: "_id",
      as: "customer_info"
    }
  }
])
```

### 💬 Explanation:

* `$lookup` performs a **left outer join** between two collections.
* `from` → the second collection (`customers`).
* `localField` → field in `orders` that references another collection.
* `foreignField` → field in `customers` that matches the local field.
* `as` → name of the new array field that will contain the joined data.

### 🧠 Example Data:

**orders**

```js
[
  { _id: 1, customer_id: 101, product: "Laptop", amount: 1000 },
  { _id: 2, customer_id: 102, product: "Phone", amount: 500 }
]
```

**customers**

```js
[
  { _id: 101, name: "Alice", city: "Bangalore" },
  { _id: 102, name: "Bob", city: "Chennai" }
]
```

### 📤 Output:

```js
[
  {
    _id: 1,
    customer_id: 101,
    product: "Laptop",
    amount: 1000,
    customer_info: [{ _id: 101, name: "Alice", city: "Bangalore" }]
  },
  {
    _id: 2,
    customer_id: 102,
    product: "Phone",
    amount: 500,
    customer_info: [{ _id: 102, name: "Bob", city: "Chennai" }]
  }
]
```

✅ **Used for:** Combining order and customer data (similar to SQL JOIN).

---

## 🧾 **Summary Table**

| Task                        | Operator/Method          | Key Concept          |
| --------------------------- | ------------------------ | -------------------- |
| Filter by condition         | `find()` + `$gt`         | Comparison operators |
| Increment value             | `updateOne()` + `$inc`   | Update operator      |
| Group and sum               | `aggregate()` + `$group` | Aggregation pipeline |
| Match multiple array values | `$all`                   | Array query operator |
| Join two collections        | `$lookup`                | Aggregation join     |

---
