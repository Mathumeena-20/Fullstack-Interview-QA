## ğŸ§© **1. Find all employees whose salary > 50,000 and department = â€œITâ€**

### âœ… Query:

```js
db.employees.find({ department: "IT", salary: { $gt: 50000 } })
```

### ğŸ’¬ Explanation:

* `find()` â†’ retrieves documents.
* `{ department: "IT" }` â†’ matches department field.
* `{ salary: { $gt: 50000 } }` â†’ `$gt` means â€œgreater thanâ€.

### ğŸ§  Example Data:

```js
[
  { name: "John", department: "IT", salary: 60000 },
  { name: "Alice", department: "HR", salary: 40000 },
  { name: "Bob", department: "IT", salary: 45000 }
]
```

### ğŸ“¤ Output:

```js
{ name: "John", department: "IT", salary: 60000 }
```

âœ… **Used for:** Filtering employees based on multiple conditions (like SQL `WHERE` clause).

---

## ğŸ“ˆ **2. Increment a productâ€™s stock count by 5**

### âœ… Query:

```js
db.products.updateOne({ _id: 101 }, { $inc: { stock: 5 } })
```

### ğŸ’¬ Explanation:

* `updateOne()` â†’ modifies a single matching document.
* `{ _id: 101 }` â†’ finds the product.
* `$inc` â†’ increases a numeric field by a specified amount.

### ğŸ§  Example Data:

```js
{ _id: 101, name: "Laptop", stock: 20 }
```

### ğŸ“¤ After Update:

```js
{ _id: 101, name: "Laptop", stock: 25 }
```

âœ… **Used for:** Inventory management, counters, ratings, etc.

---

## ğŸ’° **3. Get total sales amount grouped by each month**

### âœ… Query:

```js
db.sales.aggregate([
  { $group: { _id: { $month: "$date" }, totalSales: { $sum: "$amount" } } },
  { $sort: { "_id": 1 } }
])
```

### ğŸ’¬ Explanation:

* `aggregate()` â†’ runs data through multiple stages.
* `$group` â†’ groups documents by month (from the `date` field).
* `$month` â†’ extracts month number from date.
* `$sum` â†’ calculates total sales amount per group.
* `$sort` â†’ sorts by month ascending.

### ğŸ§  Example Data:

```js
[
  { date: ISODate("2025-01-10"), amount: 200 },
  { date: ISODate("2025-01-15"), amount: 300 },
  { date: ISODate("2025-02-02"), amount: 400 }
]
```

### ğŸ“¤ Output:

```js
[
  { _id: 1, totalSales: 500 },
  { _id: 2, totalSales: 400 }
]
```

âœ… (Month 1 = January, Month 2 = February)

---

## ğŸ§  **4. Find documents where â€œskillsâ€ array contains both â€œPythonâ€ and â€œMongoDBâ€**

### âœ… Query:

```js
db.users.find({ skills: { $all: ["Python", "MongoDB"] } })
```

### ğŸ’¬ Explanation:

* `$all` â†’ matches arrays containing *all specified elements*, regardless of order.

### ğŸ§  Example Data:

```js
[
  { name: "Alice", skills: ["Python", "MongoDB", "React"] },
  { name: "Bob", skills: ["Python", "Django"] },
  { name: "Charlie", skills: ["MongoDB", "C++"] }
]
```

### ğŸ“¤ Output:

```js
{ name: "Alice", skills: ["Python", "MongoDB", "React"] }
```

âœ… **Used for:** Finding multi-skilled users, tags, or roles.

---

## ğŸ”— **5. Perform a lookup between orders and customers (Join Operation)**

### âœ… Query:

```js
db.orders.aggregate([
  {
    $lookup: {
      from: "customers",
      localField: "customer_id",
      foreignField: "_id",
      as: "customer_info"
    }
  }
])
```

### ğŸ’¬ Explanation:

* `$lookup` performs a **left outer join** between two collections.
* `from` â†’ the second collection (`customers`).
* `localField` â†’ field in `orders` that references another collection.
* `foreignField` â†’ field in `customers` that matches the local field.
* `as` â†’ name of the new array field that will contain the joined data.

### ğŸ§  Example Data:

**orders**

```js
[
  { _id: 1, customer_id: 101, product: "Laptop", amount: 1000 },
  { _id: 2, customer_id: 102, product: "Phone", amount: 500 }
]
```

**customers**

```js
[
  { _id: 101, name: "Alice", city: "Bangalore" },
  { _id: 102, name: "Bob", city: "Chennai" }
]
```

### ğŸ“¤ Output:

```js
[
  {
    _id: 1,
    customer_id: 101,
    product: "Laptop",
    amount: 1000,
    customer_info: [{ _id: 101, name: "Alice", city: "Bangalore" }]
  },
  {
    _id: 2,
    customer_id: 102,
    product: "Phone",
    amount: 500,
    customer_info: [{ _id: 102, name: "Bob", city: "Chennai" }]
  }
]
```

âœ… **Used for:** Combining order and customer data (similar to SQL JOIN).

---

## ğŸ§¾ **Summary Table**

| Task                        | Operator/Method          | Key Concept          |
| --------------------------- | ------------------------ | -------------------- |
| Filter by condition         | `find()` + `$gt`         | Comparison operators |
| Increment value             | `updateOne()` + `$inc`   | Update operator      |
| Group and sum               | `aggregate()` + `$group` | Aggregation pipeline |
| Match multiple array values | `$all`                   | Array query operator |
| Join two collections        | `$lookup`                | Aggregation join     |

---
