## 🧠 **1. What is PostgreSQL? How is it different from other databases like MySQL or Oracle?**

### ✅ **Answer:**

PostgreSQL is an **open-source, object-relational database management system (ORDBMS)** that uses and extends the **SQL** language combined with many features that safely store and scale complex data workloads.

### 💡 **Key Differences:**

| Feature            | PostgreSQL                                  | MySQL                         | Oracle                       |
| ------------------ | ------------------------------------------- | ----------------------------- | ---------------------------- |
| Type               | Object-Relational                           | Relational                    | Relational (Proprietary)     |
| ACID Compliance    | Fully                                       | Partially (depends on engine) | Fully                        |
| JSON/JSONB Support | Excellent                                   | Limited                       | Good                         |
| Extensibility      | Highly extensible (custom types, functions) | Limited                       | Limited                      |
| Licensing          | Open Source (PostgreSQL License)            | GPL                           | Commercial                   |
| Performance        | Great for complex queries                   | Great for simple reads        | Enterprise-grade performance |

### 🧾 **Example:**

PostgreSQL supports **custom data types**, e.g.:

```sql
CREATE TYPE mood AS ENUM ('sad', 'ok', 'happy');
CREATE TABLE person (name TEXT, current_mood mood);
```

This is not possible in MySQL without workarounds.

---

## 🏗️ **2. Explain the architecture of PostgreSQL.**

### ✅ **Answer:**

PostgreSQL follows a **client–server architecture** with multiple processes.

### 🧩 **Main Components:**

1. **Postmaster Process** — Main daemon that manages all database processes.
2. **Backend Processes** — Handle client connections and queries.
3. **Shared Memory** — Stores data buffers and caching.
4. **WAL (Write-Ahead Log)** — Ensures durability and crash recovery.
5. **Background Workers** — Handle autovacuum, statistics, etc.
6. **Storage Manager** — Manages data files on disk.

### 📊 **Diagram (Conceptual):**

```
Client Application
       |
  [libpq - Connection Library]
       |
  +---------------------------+
  |       Postmaster          |
  +---------------------------+
      |        |        |
   Backend  WAL Writer  Checkpointer
   Process  Process     Process
```

---

## ⚙️ **3. What is the role of the postmaster process in PostgreSQL?**

### ✅ **Answer:**

The **postmaster** is the **main server process** that:

* Starts when PostgreSQL starts.
* Listens for client connections.
* Spawns **backend processes** for each new client connection.
* Manages background processes (like autovacuum, WAL writer, etc.).
* Shuts down all processes safely when the database stops.

### 🧾 **Example (check running process):**

```bash
ps aux | grep postgres
```

You’ll see lines like:

```
postgres: postmaster
postgres: checkpointer
postgres: wal writer
postgres: autovacuum launcher
```

---

## 🧱 **4. What is a schema in PostgreSQL?**

### ✅ **Answer:**

A **schema** is a **logical container** that holds tables, views, functions, and other database objects.

### 💡 **Think of it as:**

> A folder that groups related database objects inside one database.

### 🧾 **Example:**

```sql
-- Create a schema
CREATE SCHEMA company;

-- Create a table inside the schema
CREATE TABLE company.employees (
  id SERIAL PRIMARY KEY,
  name TEXT
);

-- Query with schema
SELECT * FROM company.employees;
```

By default, all objects are created inside the `public` schema.

---

## 🧩 **5. What is the difference between a database and a schema?**

| Feature    | Database                         | Schema                                 |
| ---------- | -------------------------------- | -------------------------------------- |
| Definition | A collection of schemas and data | A logical grouping of tables/functions |
| Level      | Highest logical level            | Inside a database                      |
| Connection | You connect **to a database**    | You use objects **within a schema**    |
| Example    | `my_company_db`                  | `hr.employees`, `finance.payments`     |

### 🧾 **Example:**

```sql
-- Create a new database
CREATE DATABASE my_company_db;

-- Inside that database, create schemas
CREATE SCHEMA hr;
CREATE SCHEMA finance;
```

---

## 💻 **6. How do you connect to a PostgreSQL database using the command line?**

### ✅ **Answer:**

Use the `psql` command.

### 🧾 **Example:**

```bash
psql -h localhost -p 5432 -U postgres -d mydb
```

### Parameters:

* `-h` : Host (server address)
* `-p` : Port (default 5432)
* `-U` : Username
* `-d` : Database name

### 🧠 **Shortcut:**

If logged in as the same OS user:

```bash
psql mydb
```

To list databases:

```sql
\l
```

To list tables:

```sql
\dt
```

---

## 🧮 **7. What are some data types supported by PostgreSQL?**

### ✅ **Common Data Types:**

| Category  | Examples                                                    |
| --------- | ----------------------------------------------------------- |
| Numeric   | `integer`, `bigint`, `decimal`, `numeric`, `real`, `serial` |
| Text      | `char`, `varchar`, `text`                                   |
| Date/Time | `date`, `time`, `timestamp`, `interval`                     |
| Boolean   | `boolean`                                                   |
| JSON      | `json`, `jsonb`                                             |
| Array     | `integer[]`, `text[]`                                       |
| Geometric | `point`, `circle`, `polygon`                                |
| UUID      | `uuid`                                                      |
| Binary    | `bytea`                                                     |

### 🧾 **Example:**

```sql
CREATE TABLE example (
  id SERIAL PRIMARY KEY,
  name TEXT,
  joined_on DATE,
  active BOOLEAN,
  data JSONB
);
```

---

## 🔢 **8. What is the purpose of the `serial` and `bigserial` data types?**

### ✅ **Answer:**

`serial` and `bigserial` are **auto-incrementing integer types** used for **primary keys**.

* `serial` → 32-bit integer (`1 to 2,147,483,647`)
* `bigserial` → 64-bit integer (`1 to 9,223,372,036,854,775,807`)

They automatically create a **sequence** and assign unique values.

### 🧾 **Example:**

```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name TEXT
);
```

Equivalent to:

```sql
CREATE SEQUENCE users_id_seq;
CREATE TABLE users (
  id INTEGER NOT NULL DEFAULT nextval('users_id_seq'),
  name TEXT
);
```

---

## 🔑 **9. What is the use of the UUID type?**

### ✅ **Answer:**

`UUID` (Universally Unique Identifier) is used for globally unique identifiers — often used instead of `serial` when you want **non-sequential**, **unique** IDs across systems.

### 🧾 **Example:**

```sql
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

CREATE TABLE customers (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name TEXT
);
```

Sample ID:
`550e8400-e29b-41d4-a716-446655440000`

### 💡 **Use Case:**

Distributed systems, microservices, and APIs where sequential IDs could be predictable or insecure.

---

## 🔠 **10. How do you handle case-sensitive queries in PostgreSQL?**

### ✅ **Answer:**

By default, PostgreSQL is **case-sensitive** for string comparisons.

### 🧾 **Example:**

```sql
SELECT * FROM users WHERE name = 'John';
```

Will **not** match `'john'`.

### ✅ **Solutions:**

1. **Use `ILIKE`** (case-insensitive `LIKE`):

   ```sql
   SELECT * FROM users WHERE name ILIKE 'john';
   ```

2. **Use `LOWER()`** function:

   ```sql
   SELECT * FROM users WHERE LOWER(name) = LOWER('John');
   ```

3. **Create `CITEXT` column** (case-insensitive text):

   ```sql
   CREATE EXTENSION IF NOT EXISTS citext;
   CREATE TABLE customers (name CITEXT);
   ```

   Now `'John'`, `'john'`, `'JOHN'` all match automatically.
